---
title: "Додатково: Використання Git від RStudio"
teaching: 10
exercises: 0
questions:
- "Як я можу використовувати Git за допомогою RStudio?"
objectives:
- "Зрозуміти, як використовувати Git з RStudio."
keypoints:
- "Використання Git інтеграції RStudio дозволяє з часом конторолювати версіями проєкту."
---

Контроль версій може бути дуже корисним при розробці сценаріїв аналізу даних. З
цієї причини популярне середовище розвитку
[RStudio][rstudio] для мови програмування R має вбудовану
Хоча деякі розширені функції Git все ще вимагають 
командного рядка, RStudio має хороший інтерфейс для багатьох поширених операцій Git.

RStudio дозволяє нам створювати [проєкт][rstudio-проєкти], пов'язані з
даним каталогом для відстеження різних пов'язаних файлів. Щоб мати
можливість відстежувати розвиток проєкту з плином часу, щоб мати можливість повернутися до
попередніх версій, і співпрацювати з іншими, ми виконуємо керування проектом Rstudio з Git.
Для початку використання Git в RStudio ми створюємо новий проєкт:

![[Знімок екрана RStudio, що показує меню файлу, випадаюче з вибраним пунктом "New Project..."](../fig/RStudio_screenshot_newproject.png)

Відкриває діалогове вікно з запитанням про те, як ми хочемо створити проєкт. У нас є
деякі варіанти тут. Припустимо, що ми хочемо використовувати RStudio з
репозиторієм planets, який ми вже створили. Оскільки цей репозиторій живе в каталозі на нашому комп'ютері, ми
вибираємо опцію "Existing Directory":

![Знімок екрана RStudio, що показує діалогове вікно New Project за допомогою обраного "Create project from existing directory"](../fig/RStudio_screenshot_existingdirectory.png)

> ## Ви бачите опцію "Version Control"?
>
> Хоча ми не збираємося використовувати її тут, в цьому меню повинна бути опція "version control"
> option on this menu. Це те, що ви б натиснули, якщо ви хочете
> створити проєкт на вашому комп'ютері, клонуючи репозиторій з GitHub.
> Якщо цей параметр відсутній, це, ймовірно, означає, що RStudio не знає,
> де знаходиться ваш виконуваний файл Git, і ви не зможете прогресувати далі
> в цьому уроці, поки ви не скажете RStudio, де це.  
>
> ### Знайдіть виконуваний файл Git
>
> Спочатку давайте переконаємося, що Git встановлений на вашому комп'ютері.
> Відкрийте свій shell на Mac або Linux, або в Windows відкрийте командний рядок,
> а потім введіть:
> - `which git` (macOS, Linux)
> - `where git` (Windows)
>
> Якщо на вашому комп'ютері немає версії Git, будь ласка, дотримуйтесь 
> [Інструкції по установці Git](https://swcarpentry.github.io/git-novice/setup.html)
> в налаштуванні цього уроку, щоб встановити Git зараз. Далі відкрийте shell або командний рядок 
> і введіть `which git` (macOS, Linux), або `where git` (Windows).
> Скопіюйте шлях до виконуваного файла git.
>
> На одному комп'ютері Windows, на якому встановлено GitHub Desktop, шлях був:
> `C:/Users/UserName/AppData/Local/GitHubDesktop/app-1.1.1/resources/app/git/cmd/git.exe`
>
> ПРИМІТКА: Шлях на вашому комп'ютері буде дещо іншим.
>
> ### Скажіть RStudio де знайти GitHub
>
> У RStudio перейдіть до меню `Tools` > `Global Options` > `Git/SVN`, а потім
> перейдіть до виконуваного файлу Git, який ви знайшли в командному рядку або shell. Тепер перезапустіть
> RStudio.
> Примітка: Навіть якщо у вас встановлений Git, вам може знадобитися прийняти ліцензію
> Xcode. якщо ви використовуєте macOS.
{: .callout}

Далі RStudio запитає, який існуючий каталог ми хочемо використовувати. Натисніть
"Browse..." і перейдіть до правильної директорії, потім натисніть"Create Project":

![](../fig/RStudio_screenshot_navigateexisting.png)

Та-да! Ми створили новий проект в RStudio в рамках існуючого planets
репозиторію. Зверніть увагу на вертикальне меню "Git" на панелі меню. RStudio визнав, що
поточна директорія є Git репозиторієм, і дає нам
ряд інструментів для використання Git:

! [RStudio вікно після створення нового проєкту з великою стрілкою, що вказує на вертикальну панель меню Git.](../fig/RStudio_screenshot_afterclone.png)

Щоб редагувати існуючі файли в репозиторії, ми можемо натиснути на них в панелі
"Files" у правому нижньому куті. Тепер додамо додаткову інформацію
про Плутон:

![](../fig/RStudio_screenshot_editfiles.png)

Після того, як ми зберегли наші відредаговані файли, ми можемо використовувати RStudio для фіксації змін, 
натиснувши на "Commit..." в меню Git:

![Знімок екрана RStudio, що показує меню Git, що випадає з вибраним пунктом "Commit..."](../fig/RStudio_screenshot_commit.png)

Це відкриє діалогове вікно, де ми можемо вибрати, які файли для фіксації (перевіряючи відповідні поля
в стовпці "Staged"), і ввести повідомлення коміту
(у верхній правій панелі). Іконки у стовпці "Status" вказують 
поточний стан кожного файлу. Клацання на файлі показує інформацію про зміни на нижній
панелі (за допомогою результату `git diff`). Як тільки 
все так, як ми хочемо, ми натискаємо "Commit":

![](../fig/RStudio_screenshot_review.png)

Зміни можна відправити, вибравши "Push Branch" з меню Git. 
Існують також варіанти отримання змін з віддаленого репозиторію та перегляду історії 
комітів:

![Знімок екрана RStudio, що показує спадне меню git з вибраним пунктом "History"](../fig/RStudio_screenshot_history.png)

> ## Чи Є Команди Push/Pull Неактивними?
>
> Неактивні команди Push/Pull зазвичай означають, що RStudio не знає
> місцезнаходження вашого віддаленого репозиторію (наприклад, на GitHub). Щоб виправити це, відкрийте 
> термінал у репозиторії і введіть команду: `git push -u origin
> main`. Потім перезавантажте RStudio.
{: .callout}

Якщо натиснути на "History", ми можемо побачити графічну версію того, що `git log`
сказав би нам:

![](../fig/RStudio_screenshot_viewhistory.png)

RStudio створює ряд файлів, які він використовує для відстеження проєкту. Ми часто
не хочемо відстежувати їх; в цьому випадку ми додаємо їх до нашого `.gitignore`
файлу:

![Знімок екрану RStudio, що показує .gitignore, відкритий у вікні редактора з файлами .Rproj.user, .Rhistory, .RData, та \*.Rproj, доданий до кінця](../fig/RStudio_screenshot_gitignore.png)

> ## Порада: версіонування одноразового результату
>
> Як правило, ви не хочете, щоб контролювати версії одноразового результату (або тільки для
> читання даних). Ви повинні змінити файл `.gitignore`, щоб повідомити Git ігнорувати ці
> файли та директорії.
{: .callout}

> ## Виклик
>
> 1. Створіть нову директорію у вашому проєкті під назвою `graphs`.
> 2. Змініть `.gitignore`, щоб директорія `graphs` не контролювалася версіями.
>
>
> > ## Вирішення Виклику
> >
> > Це можна зробити в Rstudio:
> > ```
> > dir.create("./graphs")
> > ```
> > {: .language-r}
> > Потім відкрийте файл `.gitignore` з правої панелі Rstudio та додайте 
> > `graphs/` до списку файлів, які слід ігнорувати.
> {: .solution}
{: .challenge}

Є багато інших функцій в меню RStudio Git, але цих повинно бути
достатньо, щоб почати!


[rstudio]: https://www.rstudio.com/
[rstudio-projects]: https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects

