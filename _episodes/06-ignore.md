---
title: Ігнорування Речей
teaching: 5
exercises: 0
questions:
- "Як я можу сказати Git ігнорувати файли, які я не хочу відстежувати?"
objectives:
- "Налаштування Git для ігнорування певних файлів."
- "Пояснення чому ігнорування файлів може бути корисним."
keypoints:
- "`.gitignore` каже Git які файли ігнорувати."
---

Що робити, якщо у нас є файли, які ми не хочемо, щоб Git відстежував для нас,
як резервні файли, створені нашим редактором
або проміжні файли, створені під час аналізу даних?
Давайте створимо кілька фіктивних файлів:

~~~
$ mkdir results
$ touch a.dat b.dat c.dat results/a.out results/b.out
~~~
{: .language-bash}

і подивимося що Git каже:

~~~
$ git status
~~~
{: .language-bash}

~~~
On branch main
Untracked files:
  (use "git add <file>..." to include in what will be committed)

\ta.dat
\tb.dat
\tc.dat
\tresults/

nothing added to commit but untracked files present (use "git add" to track)
~~~
{: .output}

Покласти ці файли під контроль версій буде марною тратою дискового простору.
Що гірше,
маючи їх всіх перерахованими - може відвернути нас від змін, які насправді мають значення,
тож давайте скажемо Git ігнорувати їх.

Ми можемо зробити це, створюючи файл в кореневій дтректорії нашого проєкту під назвою `.gitignore`:

~~~
$ nano .gitignore
$ cat .gitignore
~~~
{: .language-bash}

~~~
*.dat
results/
~~~
{: .output}

Ці шаблони наказують Git ігнорувати будь-який файл, ім'я якого закінчується на `.dat`
та все, що знаходтїиться в `results` директорії.
(Якщо будь-який з цих файлів вже відстежується,
Git продовжить відстежувати їх.)

Як тільки ми створили цей файл,
результат `git status` набагато зрозуміліший:

~~~
$ git status
~~~
{: .language-bash}

~~~
On branch main
Untracked files:
  (use "git add <file>..." to include in what will be committed)

\t.gitignore

nothing added to commit but untracked files present (use "git add" to track)
~~~
{: .output}

Єдина річ, яку Git помічає зараз - це новостворений файл `.gitignore`.
Ви можете подумати, що ми не хотіли б відстежувати його,
але всі, з ким ми ділимося нашим репозиторієм, ймовірно, захочуть ігнорувати
те ж саме, що ми ігноруємо.
Давайте додамо та комітнемо `.gitignore`:

~~~
$ git add .gitignore
$ git commit -m "Ignore data files and the results folder."
$ git status
~~~
{: .language-bash}

~~~
On branch main
nothing to commit, working tree clean
~~~
{: .output}

Як бонус, користування `.gitignore` допомагає нам уникнути випадкового додавання файлів до репозиторію, який ми не хочемо відстежувати:

~~~
$ git add a.dat
~~~
{: .language-bash}

~~~
The following paths are ignored by one of your .gitignore files:
a.dat
Use -f if you really want to add them.
~~~
{: .output}

Якщо ми дійсно хочемо змінити наші налаштування ігнорування,
ми можемо використати `git add -f`, щоб змусити Git додати щось. Наприклад,
`git add -f a.dat`.
Ми також завжди можемо бачити статус ігнорованих файлів, якщо хочемо:

~~~
$ git status --ignored
~~~
{: .language-bash}

~~~
On branch main
Ignored files:
 (use "git add -f <file>..." to include in what will be committed)

        a.dat
        b.dat
        c.dat
        results/

nothing to commit, working tree clean
~~~
{: .output}

> ## Ігнорування Файлів у Піддиректоріях
>
> Враховуючи структуру директорій, яка виглядає як:
>
> ~~~
> results/data
> results/plots
> ~~~
> {: .language-bash}
>
> Як би ви ігнорували тільки `results/plots`, а не `results/data`?
>
> > ## Відповідь
> >
> > Якщо ви тільки хочете ігнорувати вміст
> > `results/plots`, ви можете змінити ваш `.gitignore`, щоб ігнорувати
> > тільки `/plots/` підпапку шляхом додавання наступного рядка до
> > вашого .gitignore:
> >
> > ~~~
> > results/plots/
> > ~~~
> > {: .output}
> >
> > Цей рядок забезпечить ігнорування лише вмісту `results/plots`, а
> > не вміст `results/data`.
> >
> > Як і в більшості питань програмування,
> > є кілька альтернативних способів, які можуть забезпечити дотримання цього правила ігнорування.
> > Вправа «Ігнорування вкладених файлів: Варіація» має трохи
> > іншу структуру директорій,
> > що представляє альтернативне рішення.
> > Крім того, сторінка обговорення має більш детальну інформацію про ігнорування правил.
> {: .solution}
{: .challenge}

> ## Урахування Конкретних Файлів
>
> Як ігнорувати всі файли `.dat` у кореневій директорії, за вийнятком
> `final.dat`?
> Підказка: Дізнайтеся, що робить «!» (оператор оклику)
>
> > ## Відповідь
> >
> > Ви додасте наступні два рядки до вашого .gitignore:
> >
> > ~~~
> > *.dat           # ignore all data files
> > !final.dat      # except final.data
> > ~~~
> > {: .output}
> >
> > Оператор оклику включатиме раніше виключений запис.
> >
> > Зверніть увагу також, що, оскільки ви раніше комітили файли `.dat` в цьому
> > уроці, вони не будуть проігноровані цим новим правилом. Тільки майбутні доповнення
> > `.dat` файлів, доданих до кореневої директорії, будуть проігноровані.
> {: .solution}
{: .challenge}

> ## Ігнорування Вкладених Файлів: Варіація
>
> Задано структуру каталогів, яка схожа на попередню вправу Вкладені файли,
> проте, з трішки іншою структурою директорій:
>
> ~~~
> results/data
> results/images
> results/plots
> results/analysis
> ~~~
> {: .language-bash}
>
> Як би ви проігнорували весь вміст у папці results, але не `results/data`?
>
> Підказка: подумайте трохи про те, як ви попередньо створили виняток
> з оператором «!».
>
> > ## Відповідь
> >
> > Якщо ви хочете ігнорувати вміст
> > `results/` але не `results/data/`, ви можете змінити ваш`.gitignore`, щоб ігнорувати
> > вміст results папки, але створіть виняток для вмісту
> > `results/data` підпапки. Ваш .gitignore буде виглядати так:
> >
> > ~~~
> > results/*               # ignore everything in results folder
> > !results/data/          # do not ignore results/data/ contents
> > ~~~
> > {: .output}
> {: .solution}
{: .challenge}

> ## Ігнорування всіх Файлів даних у Директорії
>
> Припустимо, що у вас порожній .gitignore файл, і дано структуру каталогів, яка виглядає як:
>
> ~~~
> results/data/position/gps/a.dat
> results/data/position/gps/b.dat
> results/data/position/gps/c.dat
> results/data/position/gps/info.txt
> results/plots
> ~~~
> {: .language-bash}
>
> Яке найкоротше правило `.gitignore` ви можете написати, щоб ігнорувати файли `.dat`
> в `result/data/position/gps`? Не ігноруйте `info.txt`.
>
> > ## Відповідь
> >
> > Додавання `results/data/position/gps/*.dat` буде відповідати кожному файлу в `results/data/position/gps`,
> > які закінчуються на `.dat`.
> > Файл `results/data/position/gps/info.txt` не буде проігноровано.
> {: .solution}
{: .challenge}

> ## Ігнорування всіх інформаційних Файлів в Репозиторії
>
> Припустимо, що у вас є багато файлів «.dat» в різних піддиректоріях вашого репозиторію.
> Наприклад, у вас є:
> 
> ~~~
> results/a.dat
> data/experiment_1/b.dat
> data/experiment_2/c.dat
> data/experiment_2/variation_1/d.dat
> ~~~
> {: .language-bash}
> 
> Як ігнорувати всі файли «.dat», без явного перерахування імен відповідних папок?
> 
> > ## Відповідь
> >
> > У файлі `.gitignore` file, напишіть:
> > 
> > ~~~
> > **/*.dat               
> > ~~~
> > {: .output}
> >
> > Це ігноруватиме всі файли «.dat», незалежно від їх позиції в дереві директорій. 
> > Ви все ще можете включити певний виняток з оператором оклику.
> {: .solution}
{: .challenge}

> ## Порядок Правил
>
> Дано файл `.gitignore` з наступним вмістом:
>
> ~~~
> *.dat
> !*.dat
> ~~~
> {: .language-bash}
>
> Яким буде результат?
>
> > ## Відповідь
> >
> > Модифікатор «!» скасує запис з раніше визначеного шаблону ігнорування.
> > Оскільки запис «! *.dat» заперечує всі попередні файли «.dat» в `.gitignore`,
> > жоден з них не буде проігноровано, і всі файли «.dat» будуть відслідковуватися.
> {: .solution}
{: .challenge}

> ## Файли Log 
>
> Ви написали скрипт, який створює багато проміжних log-файлів форми `log_01`, `log_02`, `log_03`, т.д.
> Ви хочете зберегти їх, але ви не хочете відстежувати їх через `git`.
>
> 1. Напишіть **один** `.gitignore` запис, що виключає файли форми `log_01`, `log_02`, т.д.
>
> 2. Перевірте свій «шаблон ігнорування», створивши деякі фіктивні файли форми `log_01`, т.д.
>
> 3. Ви виявите, що файл `log_01` дуже важливий, додайте його до вдслідковуваних файлів, без зміни `.gitignore` знову.
>
> 4. Обговоріть з сусідом, які інші типи файлів можуть перебувати у вашому каталозі, який ви робите через `.gitignore`.
>
> > ## Відповідь
> >
> > 1. додайте або `log_*`  або  `log*`  як новий запис у вашому .gitignore
> > 3. відстежте `log_01`, використовуючи `git add -f log_01`
> {: .solution}
{: .challenge}

